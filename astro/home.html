<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Starry Jae — Daily Transits</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" type="image/png" href="https://sunniejae.blob.core.windows.net/sunniejae/logo.png">

<style>
/* ================= ROOT VARIABLES ================= */
:root {
  --black: #000010;
  --white: #ffffff;
  --dark-gray: #404040;
  --gray: #bfbfdc;
  --silver: #f0f0f5;
  --pink: #ffb3d6;
  --teal: #00a8a3;
  --dark-purple: #3f3d7a;
  --accent: #00c9c2;
  --secondary: #c13886;
  --primary: #9a9ad4;
}

/* ================= FONTS ================= */
@font-face {
  font-family: 'Jaewriting';
  src: url('Jaewriting-Regular.ttf') format('truetype');
}

@font-face {
  font-family: 'Milky';
  src: url('tan-mon-cheri.woff') format('truetype');
}

/* ================= BASE STYLES ================= */
body {
  margin: 0;
  background: var(--black);
  color: var(--silver);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

a {
  color: var(--accent);
  text-decoration: none;
}

a:hover {
  color: var(--pink);
}

.container {
  max-width: 960px;
  margin: 0 auto;
  padding: 2rem 1.5rem;
}

/* ================= NAV ================= */
nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.2rem 1.5rem;
  border-bottom: 1px solid rgba(255,255,255,0.08);
}

nav .logo {
  font-family: 'Milky', serif;
  font-size: 1.4rem;
  color: var(--primary);
}

nav .links a {
  margin-left: 1.2rem;
  font-size: 0.9rem;
}

/* ================= CARD ================= */
.card {
  background: linear-gradient(
    180deg,
    rgba(63,61,122,0.6),
    rgba(26,27,58,0.9)
  );
  border-radius: 20px;
  padding: 2.2rem;
  box-shadow: 0 20px 60px rgba(0,0,0,0.45);
}

.card h2 {
  font-family: 'Milky', serif;
  font-size: 2rem;
  margin: 0 0 1rem;
  color: var(--white);
}

/* ================= TRANSITS ================= */
.transit-message {
  font-size: 1.2rem;
  line-height: 1.6;
  margin-top: 0.5rem;
}

.transit-meta {
  margin-top: 1.2rem;
  font-size: 0.8rem;
  color: var(--gray);
}

.tag {
  display: inline-block;
  margin-right: 0.5rem;
  margin-top: 0.3rem;
  padding: 0.25rem 0.7rem;
  border-radius: 999px;
  background: rgba(255,255,255,0.08);
}
</style>
</head>

<body>

<nav>
  <div class="logo">Starry Jae</div>
  <div class="links">
    <a href="astro/sign.html">Sign Wikis</a>
    <a href="https://244738582.hs-sites-na2.com/starryjae/january-2026">Astrology Blog</a>
    <a href="index.html">SunnieJae Home</a>
    <a href="shop/home.html">Shop</a>
  </div>
</nav>

<div class="container">

  <div class="card">
    <h2>Today’s Transits</h2>
    <div class="transit-message" id="message"></div>
    <div class="transit-meta" id="meta"></div>
  </div>

</div>

<script>
/* ================= PLANET DATA ================= */

const planets = {
  Sun:    { lon: 280, speed: 0.9856, domain: ["identity","purpose"] },
  Moon:   { lon: 90,  speed: 13.176, domain: ["emotions","needs"] },
  Mercury:{ lon: 270, speed: 1.2, domain: ["communication","thinking"] },
  Venus:  { lon: 275, speed: 1.2, domain: ["love","values"] },
  Mars:   { lon: 260, speed: 0.5, domain: ["action","desire"] },
  Jupiter:{ lon: 100, speed: 0.083, domain: ["growth","beliefs"] },
  Saturn: { lon: 330, speed: 0.033, domain: ["structure","responsibility"] },
  Uranus: { lon: 50,  speed: 0.012, domain: ["change","freedom"] },
  Neptune:{ lon: 355, speed: 0.006, domain: ["dreams","illusion"] },
  Pluto:  { lon: 300, speed: 0.004, domain: ["power","transformation"] }
};

const refDate = new Date("2026-01-01");
const today = new Date();
const daysElapsed = Math.floor((today - refDate) / 86400000);

Object.values(planets).forEach(p => {
  p.position = (p.lon + p.speed * daysElapsed) % 360;
});

/* ================= ASPECT DETECTION ================= */

const aspects = [
  { name: "conjunction", angle: 0, orb: 6, keyword: ["fusion","focus"] },
  { name: "opposition", angle: 180, orb: 6, keyword: ["polarity","balance"] },
  { name: "square", angle: 90, orb: 5, keyword: ["tension","challenge"] },
  { name: "trine", angle: 120, orb: 5, keyword: ["flow","ease"] },
  { name: "sextile", angle: 60, orb: 4, keyword: ["opportunity","support"] }
];

function angleDiff(a,b){
  let d = Math.abs(a - b);
  return d > 180 ? 360 - d : d;
}

let detected = [];
const names = Object.keys(planets);

for(let i=0;i<names.length;i++){
  for(let j=i+1;j<names.length;j++){
    let A = planets[names[i]];
    let B = planets[names[j]];
    let diff = angleDiff(A.position, B.position);

    aspects.forEach(asp => {
      if(Math.abs(diff - asp.angle) <= asp.orb){
        detected.push({ a:names[i], b:names[j], aspect:asp });
      }
    });
  }
}

const priority = ["conjunction","opposition","square","trine","sextile"];
detected.sort((x,y) =>
  priority.indexOf(x.aspect.name) - priority.indexOf(y.aspect.name)
);

const main = detected[0];

/* ================= MESSAGE ================= */

function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

const softeners = [
  "invites reflection around",
  "highlights a need to recalibrate",
  "asks us to balance",
  "brings awareness to"
];

const sentence =
  `${pick(main.aspect.keyword).charAt(0).toUpperCase()}${pick(main.aspect.keyword).slice(1)} between ${pick(planets[main.a].domain)} and ${pick(planets[main.b].domain)} ${pick(softeners)}.`;

document.getElementById("message").innerText = sentence;
document.getElementById("meta").innerHTML =
  `<span class="tag">${main.a}</span>
   <span class="tag">${main.aspect.name}</span>
   <span class="tag">${main.b}</span>`;
</script>

</body>
</html>
