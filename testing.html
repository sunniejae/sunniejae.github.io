<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sunnie Jae Creates – Retro Desktop</title>
<link rel="icon" type="image/png" href="https://i.imgur.com/wHDx7cE.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
  --black: #000010;
  --white: #ffffff;
  --dark-gray: #404040;
  --gray: #bfbfdc;
  --silver: #f0f0f5;
  --pink: #ffb3d6;
  --teal: #00a8a3;
  --dark-purple: #3f3d7a;
  --accent: #00c9c2;
  --secondary: #c13886;
  --primary: #9a9ad4;
}

body {
  margin: 0;
  font-family: "Trebuchet MS", sans-serif;
  background: url("https://i.imgur.com/mreYQcF.png") center/cover no-repeat fixed;
  overflow: hidden;
}

/* Taskbar */
#taskbar {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 30px;
  background: var(--dark-gray);
  display: flex;
  align-items: center;
  padding: 0 5px;
  box-sizing: border-box;
  z-index: 999;
  color: var(--white);
}

.taskbar-button {
  background: var(--primary);
  border: 1px solid var(--black);
  padding: 2px 6px;
  margin-right: 4px;
  cursor: pointer;
  font-size: 12px;
}

/* Messenger Window */
#messengerWindow {
  position: absolute;
  top: 100px;
  left: calc(50% - 200px);
  width: 400px;
  height: 300px;
  background: var(--silver);
  border: 2px solid var(--dark-gray);
  box-shadow: 4px 4px 0 var(--dark-gray);
  display: flex;
  flex-direction: column;
  z-index: 10;
  overflow: hidden;
}

.title-bar {
  background: var(--primary);
  color: var(--white);
  padding: 4px 8px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.title-bar .buttons button {
  width: 18px;
  height: 18px;
  border: none;
  background: var(--secondary);
  color: var(--white);
  font-weight: bold;
  line-height: 14px;
  cursor: pointer;
}

.window-content {
  flex: 1;
  background: var(--white);
  padding: 6px;
  overflow-y: auto;
  font-size: 14px;
}

/* Chat */
.chat-log {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.msg {
  max-width: 70%;
  padding: 6px 10px;
  border-radius: 10px;
  word-wrap: break-word;
}

.msg.you {
  align-self: flex-end;
  background: var(--pink);
  color: var(--black);
}

.msg.buddy {
  align-self: flex-start;
  background: var(--gray);
  color: var(--black);
}

.chat-input {
  display: flex;
  border-top: 1px solid var(--dark-gray);
}

.chat-input input {
  flex: 1;
  padding: 6px;
  border: none;
  outline: none;
  font-size: 14px;
}

.chat-input button {
  background: var(--teal);
  color: var(--white);
  border: none;
  padding: 6px 12px;
  cursor: pointer;
}
</style>
</head>
<body>

<!-- Messenger Window -->
<div id="messengerWindow">
  <div class="title-bar">
    <span>Messenger – tweety96</span>
    <div class="buttons">
      <button onclick="closeWindow('messengerWindow')">×</button>
    </div>
  </div>
  <div class="window-content">
    <div class="chat-log" id="chatLog"></div>
  </div>
  <div class="chat-input">
    <input type="text" id="chatInput" placeholder="Type a message...">
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

<!-- Taskbar -->
<div id="taskbar">
  <div class="taskbar-button" onclick="toggleMessenger()">Messenger</div>
  <div id="clock"></div>
</div>

<script>
// Taskbar functions
function toggleMessenger() {
  const win = document.getElementById("messengerWindow");
  if (win.style.display === "none") {
    win.style.display = "flex";
  } else {
    win.style.display = "none";
  }
}

// Clock
function updateClock() {
  const now = new Date();
  const mm = String(now.getMonth()+1).padStart(2,'0');
  const dd = String(now.getDate()).padStart(2,'0');
  const clock = document.getElementById("clock");
  clock.textContent = `${mm}/${dd}/2006`;
}
setInterval(updateClock, 1000);
updateClock();

// Chat
const chatLog = document.getElementById("chatLog");
const chatInput = document.getElementById("chatInput");

const buddyMessages = [
  "OMG hey XD",
  "lol!",
  "i have swim practice l8r...",
  "moms calling, g2g",
  "email me at sunniejae.creates@gmail.com and we can talk 2morrow"
];

let msgIndex = 0;
let readyForUser = false;

function appendMessage(text, sender) {
  const div = document.createElement("div");
  div.classList.add("msg", sender);
  div.textContent = text;
  chatLog.appendChild(div);
  chatLog.scrollTop = chatLog.scrollHeight;
}

function sendMessage() {
  const text = chatInput.value.trim();
  if (!text || !readyForUser) return;
  appendMessage(text, "you");
  chatInput.value = "";
  readyForUser = false;

  // Buddy reply after 1s
  if (msgIndex < buddyMessages.length) {
    setTimeout(() => {
      appendMessage(buddyMessages[msgIndex], "buddy");
      msgIndex++;
      readyForUser = true;
    }, 1000);
  }
}

// Initial typing indicator and first message
window.onload = function() {
  const typing = document.createElement("div");
  typing.id = "typingIndicator";
  typing.classList.add("msg","buddy");
  typing.textContent = "...";
  chatLog.appendChild(typing);
  chatLog.scrollTop = chatLog.scrollHeight;

  setTimeout(() => {
    typing.remove();
    appendMessage(buddyMessages[msgIndex], "buddy");
    msgIndex++;
    readyForUser = true;
  }, 5000); // 5 seconds typing
}
</script>

</body>
</html>
